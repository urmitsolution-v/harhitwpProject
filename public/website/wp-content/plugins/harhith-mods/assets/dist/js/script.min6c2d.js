const __filterData=(e,t,o,r=!1)=>(tmp=e.filter((e=>e[t]==o)))&&r&&tmp.sort(((e,t)=>e[r].localeCompare(t[r])))||tmp,storeLocationInit=()=>{const e=document.querySelector(".hh-section-store-locator");if(!e)return;const t=JSON.parse(document.getElementById("hhStoreRegionData").innerText),o=JSON.parse(document.getElementById("hhStoreLocationData").innerText);var r=e.querySelector("#filter-district"),a=e.querySelector("#filter-city"),i=e.querySelector("#filter-store");const n=e.querySelector(".hh-store-locator-info"),s=e.querySelector("#geo-coords"),l=e.querySelector("#hh-geolocation-map-iframe"),d=e.querySelector("#locate-store"),c=e.querySelector(".hh-store-locator-map .hh-map-loader"),u=()=>{c.classList.remove("off"),l.classList.remove("iframe-loaded"),l.src="https://maps.google.com/maps/place?q={{coords}}&output=embed".replace(/{{coords}}/g,s.value)},f=e=>{i.classList.add("prop-hidden"),i.innerHTML="",n.innerHTML=""===e.store_address?"N/A":e.store_address,s.value=e.latitude+","+e.longitude,u()};l.onload=()=>{setTimeout((()=>{c.classList.add("off"),l.classList.add("iframe-loaded")}),1e3)},d.onclick=()=>{u()},r.addEventListener("change",(function(){filteredCities=__filterData(t,"region_parent",this.value,"region_name"),(e=>{a.innerHTML="";for(const o of e){var t=document.createElement("option");t.value=o.id,t.text=o.region_name.charAt(0).toUpperCase()+o.region_name.slice(1),a.appendChild(t)}f(__filterData(o,"city",e[0].id)[0])})(filteredCities)})),a.addEventListener("change",(function(){filteredStore=__filterData(o,"city",this.value),console.log(filteredStore),1<filteredStore.length?(e=>{n.innerHTML="",i.innerHTML="",i.classList.remove("prop-hidden");for(const o of e){var t=document.createElement("option");t.value=o.latitude+","+o.longitude,t.text=""===o.store_address?"N/A":o.store_address,t.title=""===o.store_address?"N/A":o.store_address,i.appendChild(t)}s.value=e[0].latitude+","+e[0].longitude,u()})(filteredStore):f(filteredStore[0])})),i.addEventListener("change",(function(){s.value=this.value,u()}))};document.addEventListener("DOMContentLoaded",(()=>{storeLocationInit()}));